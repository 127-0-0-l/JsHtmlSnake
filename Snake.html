<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #082032;
			font-family: monospace;
		}
		button {
			border: none;
		}
		.workContainer {
			display: block;
			width: 100%;
			margin: 10px auto;
		}
		.btnStart {
			background: #082032;
			color: #FF4C29;
			border: 2px solid #FF4C29;
			font-size: 25px;
			font-family: monospace;
			display: block;
			margin: 0 auto;
		}
		.btnStart:hover, .turnBtn:hover {
			background-color: #FF4C29;
			color: #082032;
		}
		.playField {
			padding: 0;
			margin: 15px auto;
			width: 300px;
			height: 300px;
			border: 2px solid #FF4C29;
		}
		.coordRow {
			padding: 0;
			margin: 0;
			display: flex;
			justify-content: space-around;
		}
		.coordinate {
			padding: 0;
			margin: 0;
			width: 30px;
			height: 30px;
			display: flex;

		}
		.btnForActive {
			width: 180px;
			margin: 10px auto;
		}
		.turnBtn {
			position: relative;
			width: 50px;
			height: 40px;
			border: 2px solid #FF4C29;
			background: none;
			color: #FF4C29;
			font-size: 25px;
			font-family: monospace;
		}
		#btnUp {
			margin-left: 50%;
			transform: translate(-50%, 0);
		}
		#btnLeft {
			transform: translate(0, 50%);
		}
		#btnRight {
			margin-left: 100%;
			transform: translate(-100%, -50%);
		}
		#btnDown {
			margin-left: 50%;
			transform: translate(-50%, 0);
		}
	</style>
</head>
<body>
	<div id='colorGround' style="color: #082032;"></div>
	<div id='colorBody' style="color: #345B63;"></div>
	<div id='colorHead' style="color: #39A2DB;"></div>
	<div id='colorFood' style="color: #FF4C29;"></div>
	<div id='colorWall' style="color: #000000;"></div>

	<div class="workContainer">
		<button class="btnStart" onclick="runSnake()">Start</button>

		<div class="playField">
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
			<div class="coordRow">
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
				<div class="coordinate"></div>
			</div>
		</div>
		<div class="btnForActive">
			<button id="btnUp" class="turnBtn" onclick="turnUp()">↑</button>
			<br>
			<button id="btnLeft" class="turnBtn" onclick="turnLeft()">←</button>
			<button id="btnRight" class="turnBtn" onclick="turnRight()">→</button>
			<br>
			<button id="btnDown" class="turnBtn" onclick="turnDown()">↓</button>
		</div>
	</div>
	
</body>
</html>

<script>
	const Direction = {
		Up: 'Up',
		Down: 'Down',
		Left: 'Left',
		Right: 'Right'
	}

	var currentDirection = Direction.Right
	var intervalId

	var colorHead = document.getElementById('colorHead').style.color
	var colorBody = document.getElementById('colorBody').style.color
	var colorGround = document.getElementById('colorGround').style.color
	var colorFood = document.getElementById('colorFood').style.color
	var colorWall = document.getElementById('colorWall').style.color

	var snake = []

	function turnUp(){
		if(currentDirection != Direction.Down){
			currentDirection = Direction.Up
		}
	}

	function turnDown(){
		if(currentDirection != Direction.Up){
			currentDirection = Direction.Down
		}
	}

	function turnLeft(){
		if(currentDirection != Direction.Right){
			currentDirection = Direction.Left
		}
	}

	function turnRight(){
		if(currentDirection != Direction.Left){
			currentDirection = Direction.Right
		}
	}

	function runSnake(){
		clearMap()
		snake = []
		snake.push({row: 0, column: 0})
		snake.push({row: 0, column: 1})
		SetColor(snake[0].row, snake[0].column, colorBody)
		SetColor(snake[1].row, snake[1].column, colorHead)
		generateFood()

        intervalId = window.setInterval(function(){
            switch(currentDirection){
				case Direction.Up:
					makeStep(snake[snake.length - 1].row - 1, snake[snake.length - 1].column)
					break;
				case Direction.Down:
					makeStep(snake[snake.length - 1].row + 1, snake[snake.length - 1].column)
					break;
				case Direction.Left:
					makeStep(snake[snake.length - 1].row, snake[snake.length - 1].column - 1)
					break;
				case Direction.Right:
					makeStep(snake[snake.length - 1].row, snake[snake.length - 1].column + 1)
					break;
			}
        }, 300);
    }

	function makeStep(row, column){
		switch(GetColor(row, column)){
			case colorGround:
				SetColor(snake[snake.length - 1].row, snake[snake.length - 1].column, colorBody)
				SetColor(snake[0].row, snake[0].column, colorGround)
				SetColor(row, column, colorHead)
				snake.push({row: row, column: column})
				snake.shift()
				break;
			case colorFood:
				SetColor(snake[snake.length - 1].row, snake[snake.length - 1].column, colorBody)
				SetColor(row, column, colorHead)
				snake.push({row: row, column: column})
				generateFood()
				break;
			case colorWall:
				stopSnake()
				break;
			case colorBody:
				stopSnake()
				break;
		}
	}

	function stopSnake(){
        clearInterval(intervalId)
    }

	function SetColor(row, column, color){
		document.getElementsByClassName('coordinate')[row * 10 + column].style.backgroundColor = color
	}

	function GetColor(row, column){
		if(row < 10 && row >= 0 && column < 10 && column >= 0){
			return document.getElementsByClassName('coordinate')[row * 10 + column].style.backgroundColor
		}
		else{
			return colorWall
		}
	}

	function generateFood(){
		var food = {
			column: 0,
			row: 0
		}

		do{
			food.column = Math.trunc(Math.random() * 10)
			food.y = Math.trunc(Math.random() * 10)
		}
		while(GetColor(food.y, food.column) != colorGround)

		SetColor(food.y, food.column, colorFood)
	}

	function clearMap(){
		for (let row = 0; row < 10; row++) {
			for (let column = 0; column < 10; column++) {
				SetColor(row, column, colorGround)
			}
		}
	}
</script>